<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ModMed Value Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root{--purple:#6B3FA0;--gold:#F5B335;--bg:#f8f9fc;--card:#fff;--text:#1a1a2e;--text2:#64748b;--muted:#94a3b8;--border:#e2e8f0;--red:#dc2626;--green:#16a34a;--blue:#2563eb;--orange:#ea580c}
        *{box-sizing:border-box;margin:0;padding:0}
        body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);font-size:13px;line-height:1.5}
        
        .header{background:var(--purple);color:#fff;padding:10px 16px;position:sticky;top:0;z-index:100}
        .header-inner{max-width:900px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}
        .logo{font-weight:600;font-size:14px;display:flex;align-items:center;gap:6px}
        .logo svg{width:26px;height:26px}
        .btns{display:flex;gap:6px}
        .btn{padding:6px 12px;border-radius:6px;font-size:11px;font-weight:600;border:none;cursor:pointer}
        .btn-light{background:rgba(255,255,255,.2);color:#fff}
        .btn-gold{background:var(--gold);color:#000}
        
        .main{max-width:900px;margin:0 auto;padding:12px}
        .card{background:var(--card);border-radius:10px;padding:14px;margin-bottom:10px;border:1px solid var(--border)}
        .card-title{font-size:11px;font-weight:700;color:var(--purple);margin-bottom:10px;text-transform:uppercase;letter-spacing:.5px}
        
        /* Setup */
        .setup-row{display:flex;gap:6px;margin-bottom:10px}
        .setup-btn{flex:1;padding:10px 6px;text-align:center;background:var(--bg);border:2px solid var(--border);border-radius:6px;font-size:11px;font-weight:600;cursor:pointer}
        .setup-btn.active{background:var(--purple);color:#fff;border-color:var(--purple)}
        .setup-btn small{display:block;font-size:9px;font-weight:400;opacity:.7}
        
        .inputs-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
        .input-box label{font-size:9px;font-weight:600;color:var(--text2);text-transform:uppercase;display:block;margin-bottom:2px}
        .input-box input,.input-box select{width:100%;background:var(--bg);border:1px solid var(--border);border-radius:5px;padding:8px;font-size:13px;font-weight:600}
        .input-box input:focus,.input-box select:focus{outline:none;border-color:var(--purple)}
        
        /* Metric Card */
        .metric-card{border:1px solid var(--border);border-radius:8px;margin-bottom:10px;overflow:hidden}
        .metric-header{display:flex;justify-content:space-between;align-items:center;padding:12px;background:linear-gradient(135deg,#fef2f2,#fee2e2);cursor:pointer}
        .metric-header.green{background:linear-gradient(135deg,#f0fdf4,#dcfce7)}
        .metric-title{font-weight:600;font-size:13px}
        .metric-title small{font-weight:400;color:var(--text2);display:block;font-size:10px}
        .metric-value{text-align:right}
        .metric-value .amount{font-size:18px;font-weight:700;color:var(--green)}
        .metric-value .label{font-size:9px;color:var(--muted);text-transform:uppercase}
        
        .metric-body{padding:14px;border-top:1px solid var(--border);display:none}
        .metric-body.open{display:block}
        
        /* Educational Box */
        .edu-box{background:#fffbeb;border:1px solid #fcd34d;border-radius:6px;padding:10px;margin-bottom:12px}
        .edu-box.blue{background:#eff6ff;border-color:#93c5fd}
        .edu-box.green{background:#f0fdf4;border-color:#86efac}
        .edu-title{font-size:10px;font-weight:700;color:#92400e;margin-bottom:4px;display:flex;align-items:center;gap:4px}
        .edu-box.blue .edu-title{color:#1e40af}
        .edu-box.green .edu-title{color:#166534}
        .edu-text{font-size:11px;color:#78350f;line-height:1.5}
        .edu-box.blue .edu-text{color:#1e3a8a}
        .edu-box.green .edu-text{color:#14532d}
        
        /* Impact Box */
        .impact-box{background:linear-gradient(135deg,#fdf4ff,#f3e8ff);border:1px solid #d8b4fe;border-radius:6px;padding:10px;margin-bottom:12px}
        .impact-title{font-size:10px;font-weight:700;color:#7c3aed;margin-bottom:6px}
        .impact-row{display:flex;justify-content:space-between;font-size:11px;padding:4px 0;border-bottom:1px dashed #e9d5ff}
        .impact-row:last-child{border-bottom:none}
        .impact-change{color:var(--text2)}
        .impact-result{font-weight:600;color:#7c3aed}
        
        /* Formula */
        .formula-box{background:var(--bg);border-radius:6px;padding:10px;margin-bottom:12px}
        .formula-title{font-size:9px;font-weight:600;color:var(--text2);text-transform:uppercase;margin-bottom:6px}
        .formula-row{display:flex;flex-wrap:wrap;align-items:center;gap:4px;margin-bottom:6px}
        .formula-input{width:60px;padding:5px;border:1px solid var(--border);border-radius:4px;font-size:12px;text-align:center;font-weight:600}
        .formula-input:focus{outline:none;border-color:var(--purple)}
        .formula-label{font-size:10px;color:var(--text2)}
        .formula-op{font-weight:700;color:var(--purple);font-size:12px}
        .formula-result{font-weight:700;color:var(--green);font-size:13px}
        
        /* Discovery */
        .discovery-box{background:#f0f9ff;border:1px solid #7dd3fc;border-radius:6px;padding:10px;margin-bottom:12px}
        .discovery-title{font-size:10px;font-weight:700;color:#0369a1;margin-bottom:6px;display:flex;align-items:center;gap:4px}
        .discovery-q{font-size:11px;color:#0c4a6e;font-style:italic;padding:6px 8px;background:#e0f2fe;border-radius:4px;margin-bottom:4px}
        .discovery-q:last-child{margin-bottom:0}
        
        /* Source */
        .source-box{background:#f8fafc;border-radius:4px;padding:8px;font-size:10px;color:var(--text2)}
        .source-box strong{color:var(--text)}
        
        /* Summary */
        .summary-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
        .summary-box{text-align:center;padding:12px 6px;border-radius:8px}
        .summary-box.pain{background:#fef2f2;border:1px solid #fecaca}
        .summary-box.save{background:#f0fdf4;border:1px solid #bbf7d0}
        .summary-box.roi{background:#eff6ff;border:1px solid #bfdbfe}
        .summary-box.net{background:#fefce8;border:1px solid #fef08a}
        .summary-label{font-size:9px;font-weight:600;text-transform:uppercase}
        .summary-box.pain .summary-label{color:var(--red)}
        .summary-box.save .summary-label{color:var(--green)}
        .summary-box.roi .summary-label{color:var(--blue)}
        .summary-box.net .summary-label{color:var(--orange)}
        .summary-value{font-size:18px;font-weight:700;margin:2px 0}
        .summary-box.pain .summary-value{color:var(--red)}
        .summary-box.save .summary-value{color:var(--green)}
        .summary-box.roi .summary-value{color:var(--blue)}
        .summary-box.net .summary-value{color:var(--orange)}
        .summary-sub{font-size:9px;color:var(--muted)}
        
        /* Talk Track */
        .talk-card{background:var(--gold);border-radius:10px;padding:12px;margin-top:10px}
        .talk-title{font-size:11px;font-weight:700;margin-bottom:8px}
        .talk-item{background:#fff;border-radius:6px;padding:10px;margin-bottom:6px}
        .talk-item:last-child{margin-bottom:0}
        .talk-step{display:inline-flex;width:16px;height:16px;align-items:center;justify-content:center;background:var(--purple);color:#fff;border-radius:50%;font-size:9px;font-weight:700;margin-right:6px}
        .talk-label{font-size:10px;font-weight:600}
        .talk-script{font-size:11px;color:var(--text2);margin-top:4px;padding:6px;background:var(--bg);border-radius:4px;border-left:3px solid var(--purple)}
        .talk-script strong{color:var(--purple)}
        
        @media(max-width:600px){
            .inputs-grid{grid-template-columns:1fr 1fr}
            .summary-grid{grid-template-columns:1fr 1fr}
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-inner">
            <div class="logo">
                <svg viewBox="0 0 100 100"><circle cx="50" cy="50" r="48" fill="#8C8C8C"/><circle cx="50" cy="50" r="44" fill="#F5B335"/><ellipse cx="50" cy="75" rx="44" ry="25" fill="#6B3FA0"/><path d="M15 50 L30 50 L38 25 L50 70 L62 30 L70 50 L85 50" stroke="#fff" stroke-width="6" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
                ModMed Value Calculator
            </div>
            <div class="btns">
                <button class="btn btn-light" onclick="resetAll()">Reset</button>
                <button class="btn btn-gold" onclick="copySummary()">üìã Copy</button>
            </div>
        </div>
    </header>

    <main class="main">
        <!-- SETUP -->
        <div class="card">
            <div class="card-title">üè• Practice Profile</div>
            <div class="setup-row">
                <div class="setup-btn" onclick="setSize('startup')" id="sz-startup">Startup<small>1 provider</small></div>
                <div class="setup-btn active" onclick="setSize('small')" id="sz-small">Small<small>2-3 providers</small></div>
                <div class="setup-btn" onclick="setSize('medium')" id="sz-medium">Medium<small>4-6 providers</small></div>
                <div class="setup-btn" onclick="setSize('large')" id="sz-large">Large<small>7+ providers</small></div>
            </div>
            <div class="setup-row">
                <div class="setup-btn active" onclick="setSpec('plastic')" id="sp-plastic">Plastic Surgery</div>
                <div class="setup-btn" onclick="setSpec('allergy')" id="sp-allergy">Allergy/Immunology</div>
            </div>
            <div class="inputs-grid">
                <div class="input-box"><label>Providers</label><input type="number" id="providers" value="2" min="1" oninput="calc()"></div>
                <div class="input-box"><label>Staff (FTEs)</label><input type="number" id="staff" value="6" min="0" oninput="calc()"></div>
                <div class="input-box"><label>Patients/Provider/Day</label><input type="number" id="ppd" value="18" min="1" oninput="calc()"></div>
                <div class="input-box"><label>Revenue/Visit ($)</label><input type="number" id="rpv" value="425" min="0" oninput="calc()"></div>
                <div class="input-box"><label>Work Days/Year</label><input type="number" id="workdays" value="240" oninput="calc()"></div>
                <div class="input-box"><label>Current System</label><select id="ehr" onchange="calc()"><option value="1.5">Paper/Manual</option><option value="1.3">Legacy EHR</option><option value="1.15" selected>Generic EHR</option><option value="1.0">Specialty EHR</option></select></div>
            </div>
        </div>

        <!-- DERIVED -->
        <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:6px;margin-bottom:10px;text-align:center;font-size:10px">
            <div style="padding:8px;background:#fff;border-radius:6px;border:1px solid var(--border)"><div style="color:var(--muted)">Annual Visits</div><div style="font-size:15px;font-weight:700" id="annualVisits">0</div></div>
            <div style="padding:8px;background:#fff;border-radius:6px;border:1px solid var(--border)"><div style="color:var(--muted)">Annual Revenue</div><div style="font-size:15px;font-weight:700" id="annualRevenue">$0</div></div>
            <div style="padding:8px;background:#fff;border-radius:6px;border:1px solid var(--border)"><div style="color:var(--muted)">Active Patients</div><div style="font-size:15px;font-weight:700" id="activePatients">0</div></div>
            <div style="padding:8px;background:#fff;border-radius:6px;border:1px solid var(--border)"><div style="color:var(--muted)">System Multiplier</div><div style="font-size:15px;font-weight:700" id="sysMult">1.15x</div></div>
        </div>

        <!-- CHARTING -->
        <div class="metric-card">
            <div class="metric-header" onclick="toggle('charting')">
                <div class="metric-title">üìù After-Hours Charting<small>Provider documentation time</small></div>
                <div class="metric-value"><div class="label">Annual Savings</div><div class="amount" id="chartingSave">$0</div></div>
            </div>
            <div class="metric-body" id="charting-body">
                <div class="edu-box">
                    <div class="edu-title">üí° What This Means</div>
                    <div class="edu-text">After-hours charting is time providers spend completing documentation <strong>outside of patient visits</strong>‚Äîevenings, weekends, or between appointments. This is unpaid time that reduces provider satisfaction and leads to burnout. It's often called "pajama time" in healthcare.</div>
                </div>
                
                <div class="edu-box blue">
                    <div class="edu-title">üìä Industry Benchmark</div>
                    <div class="edu-text"><strong>MGMA Data:</strong> Physicians spend 1-2+ hours/day on documentation. Specialty EHRs with pre-built templates, voice recognition, and AI-assist reduce this by 50-70%. Paper/legacy systems increase it by 30-50%.</div>
                </div>
                
                <div class="impact-box">
                    <div class="impact-title">‚ö° Bottom Line Impact</div>
                    <div class="impact-row"><span class="impact-change">Every 30 min/day reduction</span><span class="impact-result" id="charting30min">= $0/year saved</span></div>
                    <div class="impact-row"><span class="impact-change">At $200/hr opportunity cost</span><span class="impact-result">Provider could see 2-3 more patients</span></div>
                    <div class="impact-row"><span class="impact-change">Or use for procedures, consults</span><span class="impact-result">Higher-value activities</span></div>
                </div>
                
                <div class="formula-box">
                    <div class="formula-title">üìê Your Calculation</div>
                    <div class="formula-row">
                        <input type="number" class="formula-input" id="chartingHrs" value="1.5" step="0.5" oninput="calc()"><span class="formula-label">hrs/day</span>
                        <span class="formula-op">√ó</span>
                        <input type="number" class="formula-input" id="chartingRate" value="200" oninput="calc()"><span class="formula-label">$/hr value</span>
                        <span class="formula-op">√ó</span>
                        <span class="formula-label" id="chartingDays">240 days</span>
                        <span class="formula-op">√ó</span>
                        <span class="formula-label" id="chartingProvs">2 provs</span>
                    </div>
                    <div class="formula-row">
                        <span class="formula-label">Current annual cost:</span>
                        <span class="formula-result" id="chartingCost">$0</span>
                    </div>
                    <div class="formula-row">
                        <span class="formula-label">ModMed reduces by</span>
                        <input type="number" class="formula-input" id="chartingImp" value="65" oninput="calc()"><span class="formula-label">%</span>
                        <span class="formula-op">‚Üí</span>
                        <span class="formula-label">You save:</span>
                        <span class="formula-result" id="chartingSave2">$0</span>
                    </div>
                </div>
                
                <div class="discovery-box">
                    <div class="discovery-title">üéØ Sandler Discovery Questions</div>
                    <div class="discovery-q">"How much time do your providers spend on charting after their last patient?"</div>
                    <div class="discovery-q">"Is documentation affecting work-life balance or contributing to burnout?"</div>
                    <div class="discovery-q">"What would providers do with an extra hour per day?"</div>
                </div>
                
                <div class="source-box">
                    <strong>Sources:</strong> MGMA DataDive 2023, AMA Physician Practice Benchmark Survey, Medscape Physician Burnout Report
                </div>
            </div>
        </div>

        <!-- NO-SHOWS -->
        <div class="metric-card">
            <div class="metric-header" onclick="toggle('noshow')">
                <div class="metric-title">üìÖ No-Show Rate<small>Missed appointments = empty revenue</small></div>
                <div class="metric-value"><div class="label">Annual Recovery</div><div class="amount" id="noShowSave">$0</div></div>
            </div>
            <div class="metric-body" id="noshow-body">
                <div class="edu-box">
                    <div class="edu-title">üí° What This Means</div>
                    <div class="edu-text">No-shows are scheduled appointments where the patient doesn't arrive and doesn't cancel in advance. Each empty slot is <strong>lost revenue that can't be recovered</strong>‚Äîstaff are there, lights are on, but no income is generated. It also disrupts patient care continuity.</div>
                </div>
                
                <div class="edu-box blue">
                    <div class="edu-title">üìä Industry Benchmark</div>
                    <div class="edu-text"><strong>Without automated reminders:</strong> 18-25% no-show rate<br><strong>With multi-channel reminders (text, email, voice):</strong> 5-10%<br><strong>Best practices:</strong> 2-way texting, easy reschedule links, waitlist auto-fill</div>
                </div>
                
                <div class="impact-box">
                    <div class="impact-title">‚ö° Bottom Line Impact</div>
                    <div class="impact-row"><span class="impact-change">Every 1% reduction in no-shows</span><span class="impact-result" id="noShow1pct">= $0/year recovered</span></div>
                    <div class="impact-row"><span class="impact-change">At your revenue/visit of $<span id="noShowRpvDisp">425</span></span><span class="impact-result">Each saved slot = direct revenue</span></div>
                    <div class="impact-row"><span class="impact-change">18% ‚Üí 8% improvement</span><span class="impact-result" id="noShowFull">= $0/year</span></div>
                </div>
                
                <div class="formula-box">
                    <div class="formula-title">üìê Your Calculation</div>
                    <div class="formula-row">
                        <span class="formula-label" id="noShowVisits">8,640 visits</span>
                        <span class="formula-op">√ó</span>
                        <span class="formula-label">(</span>
                        <input type="number" class="formula-input" id="noShowCurrent" value="18" oninput="calc()"><span class="formula-label">% now</span>
                        <span class="formula-op">‚àí</span>
                        <input type="number" class="formula-input" id="noShowTarget" value="8" oninput="calc()"><span class="formula-label">% target</span>
                        <span class="formula-label">)</span>
                        <span class="formula-op">√ó</span>
                        <span class="formula-label">$<span id="noShowRpv2">425</span>/visit</span>
                    </div>
                    <div class="formula-row">
                        <span class="formula-label">Recovered revenue:</span>
                        <span class="formula-result" id="noShowCalc">$0</span>
                    </div>
                </div>
                
                <div class="discovery-box">
                    <div class="discovery-title">üéØ Sandler Discovery Questions</div>
                    <div class="discovery-q">"What's your current no-show rate? How do you track it?"</div>
                    <div class="discovery-q">"How are you reminding patients about appointments today?"</div>
                    <div class="discovery-q">"When someone no-shows, how quickly can you fill that slot?"</div>
                </div>
                
                <div class="source-box">
                    <strong>Sources:</strong> SCI Solutions Patient Access Study, MGMA, Medical Group Management Journal
                </div>
            </div>
        </div>

        <!-- COLLECTIONS -->
        <div class="metric-card">
            <div class="metric-header" onclick="toggle('collection')">
                <div class="metric-title">üíµ Collection Rate<small>Revenue actually captured</small></div>
                <div class="metric-value"><div class="label">Annual Recovery</div><div class="amount" id="collectionSave">$0</div></div>
            </div>
            <div class="metric-body" id="collection-body">
                <div class="edu-box">
                    <div class="edu-title">üí° What This Means</div>
                    <div class="edu-text">Collection rate is the percentage of <strong>expected revenue actually collected</strong>. If you bill $100 and collect $89, your rate is 89%. The gap represents write-offs, bad debt, underpayments, and billing errors. Every percentage point is real money lost.</div>
                </div>
                
                <div class="edu-box blue">
                    <div class="edu-title">üìä Industry Benchmark</div>
                    <div class="edu-text"><strong>Top performers:</strong> 95-98% collection rate<br><strong>Average practices:</strong> 88-92%<br><strong>Struggling practices:</strong> Below 85%<br><strong>Key drivers:</strong> Clean claims, patient pay capture, denial management, timely follow-up</div>
                </div>
                
                <div class="impact-box">
                    <div class="impact-title">‚ö° Bottom Line Impact</div>
                    <div class="impact-row"><span class="impact-change">Every 1% improvement</span><span class="impact-result" id="coll1pct">= $0/year</span></div>
                    <div class="impact-row"><span class="impact-change">On $<span id="collRevDisp">3.67M</span> revenue</span><span class="impact-result">Direct to bottom line</span></div>
                    <div class="impact-row"><span class="impact-change">89% ‚Üí 95% improvement</span><span class="impact-result" id="collFull">= $0/year</span></div>
                </div>
                
                <div class="formula-box">
                    <div class="formula-title">üìê Your Calculation</div>
                    <div class="formula-row">
                        <span class="formula-label" id="collRevLabel">$3.67M annual revenue</span>
                        <span class="formula-op">√ó</span>
                        <span class="formula-label">(95% target ‚àí</span>
                        <input type="number" class="formula-input" id="collectionRate" value="89" oninput="calc()"><span class="formula-label">% current)</span>
                    </div>
                    <div class="formula-row">
                        <span class="formula-label">Revenue gap to recover:</span>
                        <span class="formula-result" id="collectionGap">$0</span>
                    </div>
                </div>
                
                <div class="discovery-box">
                    <div class="discovery-title">üéØ Sandler Discovery Questions</div>
                    <div class="discovery-q">"Do you know your current collection rate? How do you track it?"</div>
                    <div class="discovery-q">"What percentage of patients pay at time of service?"</div>
                    <div class="discovery-q">"How old is your average A/R? How much is over 90 days?"</div>
                </div>
                
                <div class="source-box">
                    <strong>Sources:</strong> MGMA Cost Survey, HFMA Revenue Cycle Benchmarks, Advisory Board
                </div>
            </div>
        </div>

        <!-- DENIALS -->
        <div class="metric-card">
            <div class="metric-header" onclick="toggle('denial')">
                <div class="metric-title">‚ùå Claim Denials<small>Rejected claims = rework + delays</small></div>
                <div class="metric-value"><div class="label">Annual Savings</div><div class="amount" id="denialSave">$0</div></div>
            </div>
            <div class="metric-body" id="denial-body">
                <div class="edu-box">
                    <div class="edu-title">üí° What This Means</div>
                    <div class="edu-text">Claim denials occur when payers reject submitted claims. Each denial requires <strong>staff time to investigate, correct, and resubmit</strong>‚Äîtypically 20-45 minutes per denial. Some denials are never recovered, becoming write-offs. High denial rates signal coding, documentation, or eligibility problems.</div>
                </div>
                
                <div class="edu-box blue">
                    <div class="edu-title">üìä Industry Benchmark</div>
                    <div class="edu-text"><strong>Best-in-class:</strong> 2-5% denial rate<br><strong>Average:</strong> 8-12%<br><strong>Poor performers:</strong> 15%+<br><strong>Cost per denial:</strong> $25-65 in staff time (HFMA)<br><strong>Top denial reasons:</strong> Eligibility, coding errors, missing info, prior auth</div>
                </div>
                
                <div class="impact-box">
                    <div class="impact-title">‚ö° Bottom Line Impact</div>
                    <div class="impact-row"><span class="impact-change">Every 1% denial reduction</span><span class="impact-result" id="denial1pct">= $0/year saved</span></div>
                    <div class="impact-row"><span class="impact-change">Plus: Faster cash flow</span><span class="impact-result">Less staff frustration</span></div>
                    <div class="impact-row"><span class="impact-change">12% ‚Üí 5% improvement</span><span class="impact-result" id="denialFull">= $0/year</span></div>
                </div>
                
                <div class="formula-box">
                    <div class="formula-title">üìê Your Calculation</div>
                    <div class="formula-row">
                        <span class="formula-label" id="denialVisitsLabel">8,640 visits</span>
                        <span class="formula-op">√ó</span>
                        <span class="formula-label">(</span>
                        <input type="number" class="formula-input" id="denialCurrent" value="12" oninput="calc()"><span class="formula-label">% now</span>
                        <span class="formula-op">‚àí</span>
                        <input type="number" class="formula-input" id="denialTarget" value="5" oninput="calc()"><span class="formula-label">% target</span>
                        <span class="formula-label">)</span>
                        <span class="formula-op">√ó</span>
                        <input type="number" class="formula-input" id="denialCostPer" value="45" oninput="calc()"><span class="formula-label">$/denial</span>
                    </div>
                    <div class="formula-row">
                        <span class="formula-label">Annual savings:</span>
                        <span class="formula-result" id="denialCalc">$0</span>
                    </div>
                </div>
                
                <div class="discovery-box">
                    <div class="discovery-title">üéØ Sandler Discovery Questions</div>
                    <div class="discovery-q">"What's your first-pass claim acceptance rate?"</div>
                    <div class="discovery-q">"What are your top denial reasons? Are they preventable?"</div>
                    <div class="discovery-q">"How much staff time goes into working denied claims?"</div>
                </div>
                
                <div class="source-box">
                    <strong>Sources:</strong> HFMA Revenue Cycle Survey, MGMA, Change Healthcare Denial Index
                </div>
            </div>
        </div>

        <!-- RETENTION -->
        <div class="metric-card">
            <div class="metric-header green" onclick="toggle('retention')">
                <div class="metric-title">üîÑ Patient Retention<small>Keeping patients coming back</small></div>
                <div class="metric-value"><div class="label">Annual Value</div><div class="amount" id="retentionSave">$0</div></div>
            </div>
            <div class="metric-body" id="retention-body">
                <div class="edu-box green">
                    <div class="edu-title">üí° What This Means</div>
                    <div class="edu-text">Patient retention measures how many patients <strong>return for follow-up care</strong> vs. dropping off. In aesthetic medicine, this includes returning for maintenance treatments, additional procedures, or skincare. In allergy, it's ongoing immunotherapy and annual visits. Lost patients = lost lifetime value.</div>
                </div>
                
                <div class="edu-box blue">
                    <div class="edu-title">üìä Industry Benchmark</div>
                    <div class="edu-text"><strong>High performers:</strong> 85-90% retention<br><strong>Average:</strong> 70-80%<br><strong>Key drivers:</strong> Patient experience, recall systems, communication, convenience<br><strong>Lifetime value:</strong> A retained patient worth 5-10x a new patient acquisition cost</div>
                </div>
                
                <div class="impact-box">
                    <div class="impact-title">‚ö° Bottom Line Impact</div>
                    <div class="impact-row"><span class="impact-change">Every 1% retention improvement</span><span class="impact-result" id="ret1pct">= $0/year</span></div>
                    <div class="impact-row"><span class="impact-change">5% retention increase</span><span class="impact-result">= 25-95% profit increase (Bain)</span></div>
                    <div class="impact-row"><span class="impact-change">72% ‚Üí 85% improvement</span><span class="impact-result" id="retFull">= $0/year</span></div>
                </div>
                
                <div class="formula-box">
                    <div class="formula-title">üìê Your Calculation</div>
                    <div class="formula-row">
                        <span class="formula-label" id="retPtsLabel">2,469 active patients</span>
                        <span class="formula-op">√ó</span>
                        <span class="formula-label">(</span>
                        <input type="number" class="formula-input" id="retTarget" value="85" oninput="calc()"><span class="formula-label">% target</span>
                        <span class="formula-op">‚àí</span>
                        <input type="number" class="formula-input" id="retCurrent" value="72" oninput="calc()"><span class="formula-label">% now</span>
                        <span class="formula-label">)</span>
                        <span class="formula-op">√ó</span>
                        <input type="number" class="formula-input" id="retValue" value="1200" oninput="calc()"><span class="formula-label">$/pt/year</span>
                    </div>
                    <div class="formula-row">
                        <span class="formula-label">Additional annual revenue:</span>
                        <span class="formula-result" id="retCalc">$0</span>
                    </div>
                </div>
                
                <div class="discovery-box">
                    <div class="discovery-title">üéØ Sandler Discovery Questions</div>
                    <div class="discovery-q">"What percentage of patients return for follow-up care?"</div>
                    <div class="discovery-q">"How do you re-engage patients who haven't been in for a while?"</div>
                    <div class="discovery-q">"What's a patient worth to you over their lifetime?"</div>
                </div>
                
                <div class="source-box">
                    <strong>Sources:</strong> Bain & Company Customer Loyalty Research, Advisory Board, Harvard Business Review
                </div>
            </div>
        </div>

        <!-- SUMMARY -->
        <div class="summary-grid" style="margin-top:10px">
            <div class="summary-box pain"><div class="summary-label">üíî Annual Loss</div><div class="summary-value" id="totalPain">$0</div><div class="summary-sub">Status quo cost</div></div>
            <div class="summary-box save"><div class="summary-label">‚ú® Savings</div><div class="summary-value" id="totalSave">$0</div><div class="summary-sub">With ModMed</div></div>
            <div class="summary-box roi"><div class="summary-label">üìà Year 1 ROI</div><div class="summary-value" id="roi">0%</div><div class="summary-sub" id="payback">Payback: --</div></div>
            <div class="summary-box net"><div class="summary-label">üéØ 3-Year Net</div><div class="summary-value" id="net3">$0</div><div class="summary-sub">After investment</div></div>
        </div>

        <!-- INVESTMENT -->
        <div class="card" style="background:var(--purple);color:#fff;margin-top:10px">
            <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;text-align:center">
                <div><div style="font-size:9px;opacity:.8">Per Provider/Mo</div><input type="number" style="width:70px;margin-top:4px;padding:5px;border:1px solid rgba(255,255,255,.3);border-radius:4px;background:rgba(255,255,255,.15);color:#fff;font-size:12px;font-weight:600;text-align:center" id="invProv" value="700" oninput="calc()"></div>
                <div><div style="font-size:9px;opacity:.8">Per Staff/Mo</div><input type="number" style="width:70px;margin-top:4px;padding:5px;border:1px solid rgba(255,255,255,.3);border-radius:4px;background:rgba(255,255,255,.15);color:#fff;font-size:12px;font-weight:600;text-align:center" id="invStaff" value="100" oninput="calc()"></div>
                <div><div style="font-size:9px;opacity:.8">Implementation</div><input type="number" style="width:70px;margin-top:4px;padding:5px;border:1px solid rgba(255,255,255,.3);border-radius:4px;background:rgba(255,255,255,.15);color:#fff;font-size:12px;font-weight:600;text-align:center" id="invImpl" value="15000" oninput="calc()"></div>
                <div><div style="font-size:9px;opacity:.8">Year 1 Total</div><div style="font-size:18px;font-weight:700;margin-top:4px" id="invTotal">$0</div></div>
            </div>
        </div>

        <!-- TALK TRACK -->
        <div class="talk-card">
            <div class="talk-title">üéØ Your Talk Track</div>
            <div class="talk-item">
                <div class="talk-label"><span class="talk-step">1</span>Surface the Pain</div>
                <div class="talk-script">"What's your <strong>biggest frustration</strong> with your current system? Where do you feel like you're losing time or money?"</div>
            </div>
            <div class="talk-item">
                <div class="talk-label"><span class="talk-step">2</span>Quantify the Pain</div>
                <div class="talk-script">"Based on your numbers, you're losing <strong id="scriptPain">$0</strong> per year. Over 3 years, that's <strong id="scriptPain3">$0</strong> walking out the door."</div>
            </div>
            <div class="talk-item">
                <div class="talk-label"><span class="talk-step">3</span>Present the Solution</div>
                <div class="talk-script">"ModMed practices see no-shows drop from <strong id="scriptNS1">18%</strong> to <strong id="scriptNS2">8%</strong>, collections improve to <strong>95%+</strong>, and charting reduced by <strong id="scriptChart">65%</strong>. That's <strong id="scriptSave">$0</strong> back in your pocket."</div>
            </div>
            <div class="talk-item">
                <div class="talk-label"><span class="talk-step">4</span>Close with Value</div>
                <div class="talk-script">"For <strong id="scriptInv">$0</strong> in Year 1, you recover <strong id="scriptSave2">$0</strong>‚Äîa <strong id="scriptRoi">0%</strong> ROI. Over 3 years: <strong id="scriptNet3">$0</strong> net benefit."</div>
            </div>
        </div>
    </main>

    <script>
        const sizes={startup:{prov:1,staff:3,ppd:14,impl:8000},small:{prov:2,staff:6,ppd:18,impl:15000},medium:{prov:5,staff:18,ppd:22,impl:35000},large:{prov:8,staff:32,ppd:24,impl:60000}};
        const specs={plastic:{rpv:425,charting:1.5,noShow:18,denial:12,coll:89,ret:72},allergy:{rpv:195,charting:1.2,noShow:20,denial:14,coll:87,ret:75}};
        
        function fmt(n){return n>=1e6?'$'+(n/1e6).toFixed(1)+'M':n>=1e3?'$'+Math.round(n/1e3)+'K':'$'+Math.round(n)}
        function getN(id,d=0){return parseFloat(document.getElementById(id)?.value)||d}
        function setN(id,v){const e=document.getElementById(id);if(e)e.value=v}
        function toggle(id){document.getElementById(id+'-body').classList.toggle('open')}
        
        function setSize(s){
            document.querySelectorAll('.setup-btn').forEach(b=>{if(b.id.startsWith('sz-'))b.classList.remove('active')});
            document.getElementById('sz-'+s).classList.add('active');
            const c=sizes[s];setN('providers',c.prov);setN('staff',c.staff);setN('ppd',c.ppd);setN('invImpl',c.impl);calc();
        }
        function setSpec(s){
            document.querySelectorAll('.setup-btn').forEach(b=>{if(b.id.startsWith('sp-'))b.classList.remove('active')});
            document.getElementById('sp-'+s).classList.add('active');
            const c=specs[s];setN('rpv',c.rpv);setN('chartingHrs',c.charting);setN('noShowCurrent',c.noShow);setN('denialCurrent',c.denial);setN('collectionRate',c.coll);setN('retCurrent',c.ret);calc();
        }
        
        function calc(){
            const prov=getN('providers',2),staff=getN('staff',6),ppd=getN('ppd',18),rpv=getN('rpv',425),days=getN('workdays',240);
            const mult=parseFloat(document.getElementById('ehr').value);
            const visits=prov*ppd*days,revenue=visits*rpv,patients=Math.round(visits/3.5);
            
            document.getElementById('annualVisits').textContent=visits.toLocaleString();
            document.getElementById('annualRevenue').textContent=fmt(revenue);
            document.getElementById('activePatients').textContent=patients.toLocaleString();
            document.getElementById('sysMult').textContent=mult+'x';
            
            // CHARTING
            const chartHrs=getN('chartingHrs',1.5),chartRate=getN('chartingRate',200),chartImp=getN('chartingImp',65)/100;
            const chartCost=chartHrs*chartRate*days*prov*mult;
            const chartSave=chartCost*chartImp;
            document.getElementById('chartingDays').textContent=days+' days';
            document.getElementById('chartingProvs').textContent=prov+' provs';
            document.getElementById('chartingCost').textContent=fmt(chartCost);
            document.getElementById('chartingSave').textContent=fmt(chartSave);
            document.getElementById('chartingSave2').textContent=fmt(chartSave);
            document.getElementById('charting30min').textContent='= '+fmt(0.5*chartRate*days*prov*chartImp)+'/year saved';
            
            // NO-SHOWS
            const noShowCurr=getN('noShowCurrent',18)/100,noShowTgt=getN('noShowTarget',8)/100;
            const noShowSave=visits*(noShowCurr-noShowTgt)*rpv;
            document.getElementById('noShowVisits').textContent=visits.toLocaleString()+' visits';
            document.getElementById('noShowRpv2').textContent=rpv;
            document.getElementById('noShowRpvDisp').textContent=rpv;
            document.getElementById('noShowCalc').textContent=fmt(Math.max(0,noShowSave));
            document.getElementById('noShowSave').textContent=fmt(Math.max(0,noShowSave));
            document.getElementById('noShow1pct').textContent='= '+fmt(visits*0.01*rpv)+'/year recovered';
            document.getElementById('noShowFull').textContent='= '+fmt(Math.max(0,noShowSave))+'/year';
            
            // COLLECTIONS
            const collRate=getN('collectionRate',89)/100;
            const collGap=Math.max(0,0.95-collRate)*revenue;
            document.getElementById('collRevLabel').textContent=fmt(revenue)+' annual revenue';
            document.getElementById('collRevDisp').textContent=fmt(revenue).replace('$','');
            document.getElementById('collectionGap').textContent=fmt(collGap);
            document.getElementById('collectionSave').textContent=fmt(collGap);
            document.getElementById('coll1pct').textContent='= '+fmt(revenue*0.01)+'/year';
            document.getElementById('collFull').textContent='= '+fmt(collGap)+'/year';
            
            // DENIALS
            const denialCurr=getN('denialCurrent',12)/100,denialTgt=getN('denialTarget',5)/100,denialCost=getN('denialCostPer',45);
            const denialSave=visits*(denialCurr-denialTgt)*denialCost;
            document.getElementById('denialVisitsLabel').textContent=visits.toLocaleString()+' visits';
            document.getElementById('denialCalc').textContent=fmt(Math.max(0,denialSave));
            document.getElementById('denialSave').textContent=fmt(Math.max(0,denialSave));
            document.getElementById('denial1pct').textContent='= '+fmt(visits*0.01*denialCost)+'/year saved';
            document.getElementById('denialFull').textContent='= '+fmt(Math.max(0,denialSave))+'/year';
            
            // RETENTION
            const retCurr=getN('retCurrent',72)/100,retTgt=getN('retTarget',85)/100,retVal=getN('retValue',1200);
            const retSave=patients*(retTgt-retCurr)*retVal;
            document.getElementById('retPtsLabel').textContent=patients.toLocaleString()+' active patients';
            document.getElementById('retCalc').textContent=fmt(Math.max(0,retSave));
            document.getElementById('retentionSave').textContent=fmt(Math.max(0,retSave));
            document.getElementById('ret1pct').textContent='= '+fmt(patients*0.01*retVal)+'/year';
            document.getElementById('retFull').textContent='= '+fmt(Math.max(0,retSave))+'/year';
            
            // TOTALS
            const totalPain=chartCost+visits*noShowCurr*rpv+(1-collRate)*revenue+visits*denialCurr*denialCost;
            const totalSave=chartSave+Math.max(0,noShowSave)+collGap+Math.max(0,denialSave)+Math.max(0,retSave);
            
            const invProv=getN('invProv',700),invStaff=getN('invStaff',100),invImpl=getN('invImpl',15000);
            const monthly=(prov*invProv)+(staff*invStaff);
            const year1=(monthly*12)+invImpl,ongoing=monthly*12;
            document.getElementById('invTotal').textContent=fmt(year1);
            
            const net1=totalSave-year1,net3=net1+((totalSave-ongoing)*2);
            const roi=year1>0?Math.round((net1/year1)*100):0;
            const payback=(totalSave/12)>0?Math.ceil(year1/(totalSave/12)):99;
            
            document.getElementById('totalPain').textContent=fmt(totalPain);
            document.getElementById('totalSave').textContent=fmt(totalSave);
            document.getElementById('roi').textContent=roi+'%';
            document.getElementById('payback').textContent='Payback: '+(payback>24?'24+':payback)+' mo';
            document.getElementById('net3').textContent=fmt(net3);
            
            document.getElementById('scriptPain').textContent=fmt(totalPain);
            document.getElementById('scriptPain3').textContent=fmt(totalPain*3);
            document.getElementById('scriptNS1').textContent=Math.round(noShowCurr*100)+'%';
            document.getElementById('scriptNS2').textContent=Math.round(noShowTgt*100)+'%';
            document.getElementById('scriptChart').textContent=Math.round(chartImp*100)+'%';
            document.getElementById('scriptSave').textContent=fmt(totalSave);
            document.getElementById('scriptSave2').textContent=fmt(totalSave);
            document.getElementById('scriptInv').textContent=fmt(year1);
            document.getElementById('scriptRoi').textContent=roi+'%';
            document.getElementById('scriptNet3').textContent=fmt(net3);
            
            window.data={prov,staff,totalPain,totalSave,year1,net1,net3,roi,payback};
        }
        
        function resetAll(){setSize('small');setSpec('plastic');}
        function copySummary(){
            const d=window.data;
            navigator.clipboard.writeText(`ModMed Value Analysis\n${d.prov} Providers | ${d.staff} Staff\n\nüíî Annual Loss: ${fmt(d.totalPain)}\n‚ú® Annual Savings: ${fmt(d.totalSave)}\nüíº Year 1 Investment: ${fmt(d.year1)}\nüìà ROI: ${d.roi}%\n‚è±Ô∏è Payback: ${d.payback>24?'24+':d.payback} months\nüéØ 3-Year Net: ${fmt(d.net3)}`).then(()=>{
                document.querySelector('.btn-gold').innerHTML='‚úì Copied!';
                setTimeout(()=>document.querySelector('.btn-gold').innerHTML='üìã Copy',2000);
            });
        }
        calc();
    </script>
</body>
</html>
